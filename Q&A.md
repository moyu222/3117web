## 前端密码保留问题的解决方案

### 问题
- 需要加密传输密码
- Django 表单验证需要原始密码

### 解决思路
采用“双重提交”策略：同时发送加密密码和原始密码。

### 实现方式

**前端（伪代码）**：
```
表单提交时：
1. 获取原始密码值
2. 使用 CryptoJS AES 加密密码
3. 创建隐藏字段存储加密密码和密钥
4. 保留原始密码字段（不清空）
5. 提交表单（包含原始密码 + 加密密码）
```

**后端（伪代码）**：
```
接收 POST 数据：
1. 表单验证使用原始密码字段（Django 表单需要）
2. 加密密码字段暂时不使用（未来可扩展）
3. 验证通过后，使用原始密码创建用户
```

### 关键点
- 不清空原始密码字段，让 Django 表单能正常验证
- 加密密码作为额外字段发送，避免在开发者工具中直接看到明文
- 真正的安全依赖 HTTPS，前端加密只是额外保护层

### 为什么这样设计
如果只发送加密密码：
- Django 表单无法验证密码长度、一致性等
- 需要后端实现解密逻辑（CryptoJS 格式兼容复杂）

保留原始密码字段：
- Django 表单验证正常工作
- 实现简单，无需后端解密
- 密码最终仍用 PBKDF2 哈希存储

这样既满足加密传输需求，又保证表单验证正常。